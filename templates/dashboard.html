{% extends "base.html" %}

{% block title %}Dashboard - GenAI Metrics{% endblock %}

{% block page_title %}Dashboard{% endblock %}

{% block page_actions %}
<div class="btn-group" role="group">
    <button type="button" class="btn btn-primary" onclick="refreshDashboard()">
        <i class="fas fa-sync-alt me-1"></i>Refresh
    </button>
    <button type="button" class="btn btn-warning" onclick="retryFailedComponents()" id="retryBtn" style="display: none;">
        <i class="fas fa-redo me-1"></i>Retry Failed
    </button>
    <button type="button" class="btn btn-danger" onclick="retryAllLinks()" id="retryAllBtn">
        <i class="fas fa-sync-alt me-1"></i>Retry All Links
    </button>
    <button type="button" class="btn btn-outline-primary" onclick="exportDashboard()">
        <i class="fas fa-download me-1"></i>Export
    </button>
    <button type="button" class="btn btn-outline-secondary" onclick="customizeDashboard()">
        <i class="fas fa-cog me-1"></i>Customize
    </button>
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-outline-info dropdown-toggle" data-bs-toggle="dropdown">
            <i class="fas fa-chart-line me-1"></i>Analytics
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#" onclick="showTrendAnalysis()">
                <i class="fas fa-trending-up me-2"></i>Trend Analysis
            </a></li>
            <li><a class="dropdown-item" href="#" onclick="showPredictiveAnalytics()">
                <i class="fas fa-crystal-ball me-2"></i>Predictive Analytics
            </a></li>
            <li><a class="dropdown-item" href="#" onclick="showComparativeAnalysis()">
                <i class="fas fa-balance-scale me-2"></i>Comparative Analysis
            </a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" onclick="showCustomReports()">
                <i class="fas fa-file-alt me-2"></i>Custom Reports
            </a></li>
        </ul>
    </div>
    <div class="form-check form-switch ms-3">
        <input class="form-check-input" type="checkbox" id="realTimeToggle" checked>
        <label class="form-check-label" for="realTimeToggle">
            Real-time
        </label>
    </div>
</div>
{% endblock %}

{% block content %}
<!-- Loading Overlay -->
<div id="loading-overlay" class="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="background-color: rgba(0,0,0,0.5); z-index: 9999; display: none;">
    <div class="text-center text-white">
        <div class="spinner-border text-light mb-3" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
        </div>
        <h4>Loading Dashboard...</h4>
        <p class="mb-0">Please wait while we fetch the latest data</p>
    </div>
</div>

<!-- Dashboard Overview -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Project Overview</h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-3">
                        <div class="metric-value text-primary" id="current-projects">0</div>
                        <div class="metric-label">Current Projects</div>
                    </div>
                    <div class="col-md-3">
                        <div class="metric-value text-success" id="approved-projects">0</div>
                        <div class="metric-label">Approved Projects</div>
                    </div>
                    <div class="col-md-3">
                        <div class="metric-value text-warning" id="backlog-projects">0</div>
                        <div class="metric-label">Backlog Projects</div>
                    </div>
                    <div class="col-md-3">
                        <div class="metric-value text-info" id="total-projects">0</div>
                        <div class="metric-label">Total Projects</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- GenAI 4-Panel Dashboard -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-robot me-2"></i>GenAI Metrics Dashboard
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <!-- Panel 1: Active Features by Function & Status -->
                    <div class="col-lg-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h6 class="mb-0">Active Features by Function & Status</h6>
                            </div>
                            <div class="card-body">
                                <canvas id="featuresByFunctionChart" width="400" height="300"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Panel 2: Backlogs by Function & Priority -->
                    <div class="col-lg-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h6 class="mb-0">Backlogs by Function & Priority</h6>
                            </div>
                            <div class="card-body">
                                <canvas id="backlogsByFunctionChart" width="400" height="300"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Panel 3: Active Features by Platform & Status -->
                    <div class="col-lg-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h6 class="mb-0">Active Features by Platform & Status</h6>
                            </div>
                            <div class="card-body">
                                <canvas id="featuresByPlatformChart" width="400" height="300"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Panel 4: Backlogs by Platform & Priority -->
                    <div class="col-lg-6 mb-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h6 class="mb-0">Backlogs by Platform & Priority</h6>
                            </div>
                            <div class="card-body">
                                <canvas id="backlogsByPlatformChart" width="400" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Additional Analytics -->
<div class="row">
    <!-- Project Status Distribution -->
    <div class="col-lg-4 mb-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Project Status Distribution</h6>
            </div>
            <div class="card-body">
                <canvas id="projectStatusChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>

    <!-- Resource Utilization -->
    <div class="col-lg-4 mb-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Resource Utilization</h6>
            </div>
            <div class="card-body">
                <canvas id="resourceUtilizationChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>

    <!-- Risk Overview -->
    <div class="col-lg-4 mb-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Risk Overview</h6>
            </div>
            <div class="card-body">
                <canvas id="riskOverviewChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Recent Activity -->
<div class="row">
    <div class="col-lg-8 mb-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Recent Activity</h6>
            </div>
            <div class="card-body">
                <div id="recent-activity">
                    <!-- Recent activity will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- AI Insights -->
    <div class="col-lg-4 mb-4">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-robot me-1"></i>AI Insights
                </h6>
            </div>
            <div class="card-body">
                <div id="ai-insights">
                    <!-- AI insights will be loaded here -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">Quick Actions</h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 mb-2">
                        <a href="/projects" class="btn btn-outline-primary w-100">
                            <i class="fas fa-project-diagram me-2"></i>View Projects
                        </a>
                    </div>
                    <div class="col-md-3 mb-2">
                        <a href="/resources" class="btn btn-outline-success w-100">
                            <i class="fas fa-users me-2"></i>Manage Resources
                        </a>
                    </div>
                    <div class="col-md-3 mb-2">
                        <a href="/reports" class="btn btn-outline-info w-100">
                            <i class="fas fa-chart-bar me-2"></i>Generate Reports
                        </a>
                    </div>
                    <div class="col-md-3 mb-2">
                        <a href="/ai-copilot" class="btn btn-outline-warning w-100">
                            <i class="fas fa-robot me-2"></i>AI Copilot
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Dashboard Customization Panel -->
<div class="card mt-4" id="customizePanel" style="display: none;">
    <div class="card-header">
        <h6 class="mb-0">
            <i class="fas fa-cog me-2"></i>Dashboard Customization
        </h6>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-4">
                <h6>Chart Settings</h6>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="showAnimations" checked>
                    <label class="form-check-label" for="showAnimations">
                        Enable Chart Animations
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="showTooltips" checked>
                    <label class="form-check-label" for="showTooltips">
                        Show Chart Tooltips
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="showLegends" checked>
                    <label class="form-check-label" for="showLegends">
                        Show Chart Legends
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <h6>Data Settings</h6>
                <div class="mb-3">
                    <label for="refreshInterval" class="form-label">Refresh Interval (seconds)</label>
                    <select class="form-select" id="refreshInterval">
                        <option value="10">10 seconds</option>
                        <option value="30" selected>30 seconds</option>
                        <option value="60">1 minute</option>
                        <option value="300">5 minutes</option>
                    </select>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="autoRefresh" checked>
                    <label class="form-check-label" for="autoRefresh">
                        Auto Refresh
                    </label>
                </div>
            </div>
            <div class="col-md-4">
                <h6>Display Settings</h6>
                <div class="mb-3">
                    <label for="chartTheme" class="form-label">Chart Theme</label>
                    <select class="form-select" id="chartTheme">
                        <option value="light" selected>Light</option>
                        <option value="dark">Dark</option>
                        <option value="colorful">Colorful</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="chartSize" class="form-label">Chart Size</label>
                    <select class="form-select" id="chartSize">
                        <option value="small">Small</option>
                        <option value="medium" selected>Medium</option>
                        <option value="large">Large</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-12">
                <button class="btn btn-primary" onclick="applyCustomizations()">
                    <i class="fas fa-check me-1"></i>Apply Settings
                </button>
                <button class="btn btn-outline-secondary ms-2" onclick="resetCustomizations()">
                    <i class="fas fa-undo me-1"></i>Reset to Default
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Advanced Analytics Modals -->
<!-- Trend Analysis Modal -->
<div class="modal fade" id="trendAnalysisModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-trending-up me-2"></i>Trend Analysis
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Time Period</h6>
                        <select class="form-select mb-3" id="trendPeriod">
                            <option value="7">Last 7 days</option>
                            <option value="30" selected>Last 30 days</option>
                            <option value="90">Last 90 days</option>
                            <option value="365">Last year</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <h6>Metrics</h6>
                        <select class="form-select mb-3" id="trendMetrics">
                            <option value="all">All Metrics</option>
                            <option value="features">Features Only</option>
                            <option value="backlogs">Backlogs Only</option>
                            <option value="resources">Resources Only</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="trendAnalysisChart" width="800" height="400"></canvas>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="exportTrendAnalysis()">
                    <i class="fas fa-download me-1"></i>Export
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Predictive Analytics Modal -->
<div class="modal fade" id="predictiveAnalyticsModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-crystal-ball me-2"></i>Predictive Analytics
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h3 class="text-primary" id="predictedCompletion">85%</h3>
                                <p class="text-muted">Predicted Completion Rate</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h3 class="text-warning" id="predictedRisks">12</h3>
                                <p class="text-muted">Predicted Risks</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h3 class="text-info" id="predictedResources">8</h3>
                                <p class="text-muted">Resource Shortage</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chart-container mt-4">
                    <canvas id="predictiveChart" width="800" height="400"></canvas>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="generatePredictiveReport()">
                    <i class="fas fa-file-alt me-1"></i>Generate Report
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Comparative Analysis Modal -->
<div class="modal fade" id="comparativeAnalysisModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-balance-scale me-2"></i>Comparative Analysis
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Compare By</h6>
                        <select class="form-select mb-3" id="compareBy">
                            <option value="function">Function</option>
                            <option value="platform">Platform</option>
                            <option value="project">Project</option>
                            <option value="team">Team</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <h6>Metric</h6>
                        <select class="form-select mb-3" id="compareMetric">
                            <option value="completion">Completion Rate</option>
                            <option value="efficiency">Efficiency</option>
                            <option value="quality">Quality Score</option>
                            <option value="timeline">Timeline Adherence</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="comparativeChart" width="800" height="400"></canvas>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="exportComparativeAnalysis()">
                    <i class="fas fa-download me-1"></i>Export
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Custom Reports Modal -->
<div class="modal fade" id="customReportsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-file-alt me-2"></i>Custom Reports
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="customReportForm">
                    <div class="mb-3">
                        <label for="reportName" class="form-label">Report Name</label>
                        <input type="text" class="form-control" id="reportName" placeholder="Enter report name">
                    </div>
                    <div class="mb-3">
                        <label for="reportType" class="form-label">Report Type</label>
                        <select class="form-select" id="reportType">
                            <option value="summary">Executive Summary</option>
                            <option value="detailed">Detailed Analysis</option>
                            <option value="comparative">Comparative Report</option>
                            <option value="trend">Trend Analysis</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="reportPeriod" class="form-label">Time Period</label>
                        <select class="form-select" id="reportPeriod">
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="quarter">This Quarter</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Include Sections</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeOverview" checked>
                            <label class="form-check-label" for="includeOverview">
                                Project Overview
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeGenAI" checked>
                            <label class="form-check-label" for="includeGenAI">
                                GenAI Metrics
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeResources" checked>
                            <label class="form-check-label" for="includeResources">
                                Resource Analysis
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="includeRisks" checked>
                            <label class="form-check-label" for="includeRisks">
                                Risk Assessment
                            </label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="generateCustomReport()">
                    <i class="fas fa-magic me-1"></i>Generate Report
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', path='/js/dashboard.js') }}?v=1.3"></script>
<script>
// Additional dashboard functions for advanced analytics
function showTrendAnalysis() {
    const modal = new bootstrap.Modal(document.getElementById('trendAnalysisModal'));
    modal.show();
    loadTrendAnalysis();
}

function showPredictiveAnalytics() {
    const modal = new bootstrap.Modal(document.getElementById('predictiveAnalyticsModal'));
    modal.show();
    loadPredictiveAnalytics();
}

function showComparativeAnalysis() {
    const modal = new bootstrap.Modal(document.getElementById('comparativeAnalysisModal'));
    modal.show();
    loadComparativeAnalysis();
}

function showCustomReports() {
    const modal = new bootstrap.Modal(document.getElementById('customReportsModal'));
    modal.show();
}

// Load trend analysis
async function loadTrendAnalysis() {
    try {
        const period = document.getElementById('trendPeriod').value;
        const metrics = document.getElementById('trendMetrics').value;
        
        const data = await GenAIDashboard.apiCall(`/ai/trend-analysis?period=${period}&metrics=${metrics}`);
        renderTrendAnalysis(data);
    } catch (error) {
        console.error('Error loading trend analysis:', error);
        GenAIDashboard.showError('Failed to load trend analysis');
    }
}

// Render trend analysis
function renderTrendAnalysis(data) {
    const ctx = document.getElementById('trendAnalysisChart').getContext('2d');
    
    if (window.trendChart) {
        window.trendChart.destroy();
    }
    
    window.trendChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.labels || [],
            datasets: data.datasets || []
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: true,
                    text: 'Trend Analysis'
                }
            }
        }
    });
}

// Load predictive analytics
async function loadPredictiveAnalytics() {
    try {
        const data = await GenAIDashboard.apiCall('/ai/predictive-analytics');
        renderPredictiveAnalytics(data);
    } catch (error) {
        console.error('Error loading predictive analytics:', error);
        GenAIDashboard.showError('Failed to load predictive analytics');
    }
}

// Render predictive analytics
function renderPredictiveAnalytics(data) {
    // Update prediction cards
    document.getElementById('predictedCompletion').textContent = data.completion_rate + '%';
    document.getElementById('predictedRisks').textContent = data.predicted_risks;
    document.getElementById('predictedResources').textContent = data.resource_shortage;
    
    // Render predictive chart
    const ctx = document.getElementById('predictiveChart').getContext('2d');
    
    if (window.predictiveChart) {
        window.predictiveChart.destroy();
    }
    
    window.predictiveChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.labels || [],
            datasets: data.datasets || []
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: true,
                    text: 'Predictive Analytics'
                }
            }
        }
    });
}

// Load comparative analysis
async function loadComparativeAnalysis() {
    try {
        const compareBy = document.getElementById('compareBy').value;
        const metric = document.getElementById('compareMetric').value;
        
        const data = await GenAIDashboard.apiCall(`/ai/comparative-analysis?compare_by=${compareBy}&metric=${metric}`);
        renderComparativeAnalysis(data);
    } catch (error) {
        console.error('Error loading comparative analysis:', error);
        GenAIDashboard.showError('Failed to load comparative analysis');
    }
}

// Render comparative analysis
function renderComparativeAnalysis(data) {
    const ctx = document.getElementById('comparativeChart').getContext('2d');
    
    if (window.comparativeChart) {
        window.comparativeChart.destroy();
    }
    
    window.comparativeChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.labels || [],
            datasets: data.datasets || []
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: true,
                    text: 'Comparative Analysis'
                }
            }
        }
    });
}

// Generate custom report
async function generateCustomReport() {
    try {
        const form = document.getElementById('customReportForm');
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        
        const report = await GenAIDashboard.apiCall('/reports/custom', 'POST', data);
        
        GenAIDashboard.showSuccess('Custom report generated successfully');
        console.log('Custom report:', report);
    } catch (error) {
        console.error('Error generating custom report:', error);
        GenAIDashboard.showError('Failed to generate custom report');
    }
}

// Apply customizations
function applyCustomizations() {
    const animations = document.getElementById('showAnimations').checked;
    const tooltips = document.getElementById('showTooltips').checked;
    const legends = document.getElementById('showLegends').checked;
    const theme = document.getElementById('chartTheme').value;
    const size = document.getElementById('chartSize').value;
    
    // Apply chart customizations
    Object.values(dashboardCharts).forEach(chart => {
        if (chart) {
            chart.options.animation = animations ? { duration: 1000 } : false;
            chart.options.plugins.tooltip.enabled = tooltips;
            chart.options.plugins.legend.display = legends;
            chart.update();
        }
    });
    
    GenAIDashboard.showSuccess('Customizations applied successfully');
}

// Reset customizations
function resetCustomizations() {
    document.getElementById('showAnimations').checked = true;
    document.getElementById('showTooltips').checked = true;
    document.getElementById('showLegends').checked = true;
    document.getElementById('chartTheme').value = 'light';
    document.getElementById('chartSize').value = 'medium';
    
    applyCustomizations();
    GenAIDashboard.showInfo('Customizations reset to default');
}

// Export functions
function exportTrendAnalysis() {
    console.log('Exporting trend analysis...');
    GenAIDashboard.showInfo('Trend analysis export initiated');
}

function generatePredictiveReport() {
    console.log('Generating predictive report...');
    GenAIDashboard.showInfo('Predictive report generation initiated');
}

function exportComparativeAnalysis() {
    console.log('Exporting comparative analysis...');
    GenAIDashboard.showInfo('Comparative analysis export initiated');
}
</script>
{% endblock %}
